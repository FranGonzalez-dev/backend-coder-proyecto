<script>
    function updateProduct(id) {
    fetch(`http://localhost:8080/products/${id}`, {
        method: 'put',
        body: JSON.stringify({
            title: document.getElementById('title').value,
            thumbnail: document.getElementById('thumbnail').value,
            price: document.getElementById('price').value,
            stock: document.getElementById('stock').value,
            description: document.getElementById('description').value,
        }),
        headers:{
            'Content-Type': 'application/json'
        }
    })
    window.location.href='http://localhost:8080/products'
}
</script>

<section style="max-width: 1200px; margin:0 auto;">
    <h1 class="text-4xl font-semibold text-center">
        Actualizando el producto {{product.title}}
    </h1>
    <div class="px-4 mt-12 w-full">
        <div class="mb-4 flex gap-2 items-center">
            <div class="flex flex-col w-full">
                <label for="title" class="block mb-2 text-sm font-medium text-neutral-800 ">
                    Título del producto
                </label>
                <input type="text" id="title" name="title" class="bg-gray-50 border border-gray-300 text-neutral-800 text-sm rounded-lg w-full p-2.5" placeholder="Guitarra Fender" required value="{{product.title}}">
            </div>
            <div class="flex flex-col w-full">
                <label for="thumbnail" class="block mb-2 text-sm font-medium text-neutral-800 ">
                    URL de la imágen del producto
                </label>
                <input type="url" id="thumbnail" name="thumbnail" class="bg-gray-50 border border-gray-300 text-neutral-800 text-sm rounded-lg w-full p-2.5" placeholder="https://www.google.com/imagenes/guitarra-fender.jpg" required value="{{product.thumbnail}}">
            </div>
        </div>
        <div class="mb-4 flex gap-2 items-center">
            <div class="flex flex-col w-full">
                <label for="price" class="block mb-2 text-sm font-medium text-neutral-800 ">
                    Precio del producto
                </label>
                <input type="number" id="price" name="price" class="bg-gray-50 border border-gray-300 text-neutral-800 text-sm rounded-lg  block w-full p-2.5" placeholder="$300" required value="{{product.price}}">
            </div>
            <div class="flex flex-col w-full">
                <label for="stock" class="block mb-2 text-sm font-medium text-neutral-800 ">
                    Stock del producto
                </label>
                <input type="number" id="stock" name="stock" class="bg-gray-50 border border-gray-300 text-neutral-800 text-sm rounded-lg  block w-full p-2.5" placeholder="10" required value="{{product.stock}}">
            </div>
        </div>
        <div class="mb-4">
            <label for="message" class="block mb-2 text-sm font-medium text-neutral-800">
                Descripción del producto
            </label>
            <textarea name="description" id="description" rows="4" class="block p-2.5 w-full text-sm text-neutral-800 bg-gray-50 rounded-lg border border-gray-300" placeholder="Guitarra eléctrica de la marca Fender, viene en colores..." required>{{product.description}}</textarea>
        </div>
        <button 
            onclick="updateProduct('{{product._id}}')" 
            class="text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm w-full md:w-auto px-5 py-2.5 text-center">
            Actualizar
        </button>
    </div>
</section>